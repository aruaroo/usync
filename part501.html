
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MyJointJS06</title>
    <link rel="stylesheet" type="text/css" href="../css/joint.css" />
	<script type="text/javascript" src="../js/jquery.js"></script>
	<script type="text/javascript" src="../js/lodash.js"></script><!--order matters-->
	<script type="text/javascript" src="../js/backbone.js"></script>
	<script type="text/javascript" src="../js/joint.js"></script>
</head>
<body>
<div id="mydiv"></div>
<script>
 
    var graph=new joint.dia.Graph;  //创建模型
 
    var paper=new joint.dia.Paper({
        el: $('#mydiv'),
        width: 1000,
        height: 500,
        model: graph,
        gridSize: 1
    });
 
    joint.shapes.basic.Rect = joint.shapes.basic.Generic.extend({   //创建自定义矩形
        markup: '<g class="rotatable"><g class="scalable"><rect/></g><text/></g>',
 
        defaults: joint.util.deepSupplement({
            type: 'basic.Rect',
            attrs: {
                'rect': { fill: 'white', stroke: 'black', 'follow-scale': true, width: 80, height: 40 },
                'text': { 'font-size': 14, 'ref-x': .5, 'ref-y': .5, ref: 'rect', 'y-alignment': 'middle','x-alignment': 'middle', fill:'black'}
            }
        }, joint.shapes.basic.Generic.prototype.defaults)
    });
 
	r3 = joint.shapes.basic.Generic.extend({   //创建自定义矩形
	    markup: '<g class="rotatable"><g class="scalable"><rect/></g><text/></g>',
	 
	    defaults: joint.util.deepSupplement({
	        type: 'basic.Rect',
	        attrs: {
	            'rect': { fill: 'white', stroke: 'black', 'follow-scale': true, width: 80, height: 40 , rx: 2, ry: 3,},
	            'text': { 'font-size': 14, 'ref-x': .5, 'ref-y': .5, ref: 'rect', 'y-alignment': 'middle','x-alignment': 'middle', fill:'black'}
	        }
	    }, joint.shapes.basic.Generic.prototype.defaults)
	});
	
	
	diamond = joint.shapes.basic.Generic.extend({ 

    markup: '<g class="rotatable"><g class="scalable"><rect/></g><text/></g>', 

    defaults: joint.util.deepSupplement({ 

     type: 'basic.Rect', 
     attrs: { 
      'rect': { fill: '#FFFFFF', stroke: 'black', width: 1, height: 1,transform: 'rotate(45)' }, 
      'text': { 'font-size': 14, text: '', 'ref-x': .5, 'ref-y': .5, ref: 'rect', 'y-alignment': 'middle', 'x-alignment': 'middle', fill: 'black', 'font-family': 'Arial, helvetica, sans-serif' } 
     } 

    }, joint.shapes.basic.Generic.prototype.defaults) 
}); 

	
	
    var rect=new joint.shapes.basic.Rect({  //绘制元素
        position:{x: 100 , y: 70},
        size: {width: 100 ,height: 30},
        attrs: {text: {text: 'QLY' } }
    });
    var rect1=rect.clone();
    rect1.translate(0,100);
    rect1.attr({
        text: {fill:'pink' }
    });
 
    graph.addCells(rect,rect1);
	
	
	var rect3=new r3({  //绘制元素
        position:{x: 300 , y: 70},
        size: {width: 200 ,height: 60},
        attrs: {text: {text: 'R3' } }
    });
	
	var diam1=new diamond({  //绘制元素
	    position:{x: 300 , y: 300},
	    size: {width: 150 ,height: 100},
	    attrs: {text: {text: 'D1' } }
	});
	
	graph.addCells(rect3, diam1);
	
 
</script>
</body>
</html>
